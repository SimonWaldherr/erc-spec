<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Daniel NÃ¼st, Marc Schutzeichel, Markus Konkol">
  <link rel="canonical" href="https://o2r.info/erc-spec/dev-guide/">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Developer guide - Executable Reserach Compendium (ERC) Specification</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  <link href="../erc.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Developer guide";
    var mkdocs_page_input_path = "dev-guide/index.md";
    var mkdocs_page_url = "/erc-spec/dev-guide/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Executable Reserach Compendium (ERC) Specification</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../spec/">ERC specification</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../glossary/">Glossary</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">User guides</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../user-guide/creation/">Creation guide for authors</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../user-guide/examination/">Examination guide for readers and reviewers</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../user-guide/template/">ERC template for authors</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../user-guide/minimal/">Minimal ERC examples</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../user-guide/oais/">ERC & OAIS</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../user-guide/erc_journal_supplement/">ERC as supplement</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Developer guide</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#convention-over-configuration-and-devops">Convention over configuration and DevOps</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#related-initiatives-specifications">Related initiatives, specifications, ...</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#reasoning-and-decisions">Reasoning and decisions</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#what-is-the-life-span-of-an-erc">What is the life span of an ERC?</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#notes-and-decisions-to-elaborate-on">Notes and decisions to elaborate on...</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#why-nested-containers">Why nested containers?</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#why-your-own-configuration-file">Why your own configuration file?</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#why-bagit">Why BagIt?</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#what-about-the-limitations-of-containers">What about the limitations of containers?</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#why-docker">Why Docker?</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#why-not-singularity">Why not Singularity?</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#why-r-markdown-as-the-main-file">Why R Markdown as the main file?</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#why-html-outputs">Why HTML outputs?</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#why-not-just-use-plain-r">Why not just use plain R?</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#what-if-licensing-information-is-not-detailed-enough">What if licensing information is not detailed enough?</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#why-not-put-x-into-the-erc-configuration-file">Why (not) put "X" into the ERC configuration file?</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#why-is-validation-happening-outside-the-container-and-not-in-the-container">Why is validation happening outside the container and not in the container?</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#why-is-the-data-not-in-the-image-inner-container-but-in-the-outer-container">Why is the data not in the image (inner container) but in the outer container?</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#erc-completeness-score">ERC completeness score</a>
    </li>
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../support/">Support</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Executable Reserach Compendium (ERC) Specification</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>User guides &raquo;</li>
        
      
    
    <li>Developer guide</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/o2r-project/erc-spec/tree/master/docs/dev-guide/index.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="erc-developer-guide">ERC developer guide<a class="headerlink" href="#erc-developer-guide" title="Permanent link">&para;</a></h1>
<p>An introduction to the ERC rational and the technology choices made within the project <em>Opening Reproducible Research</em> (o2r), and ideas for downstream products based on ERCs.
This documents is targeted at <strong>developers</strong> who wish to create tools for creating, validating, and consuming ERC or who wonder about why specific tools or approaches were taken in designing the ERC specification.</p>
<p>More information about the software developed by o2r:</p>
<ul>
<li><a href="https://o2r.info/api">o2r Web API specification</a></li>
<li><a href="https://o2r.info/architecture/">o2r Architecture documentation</a></li>
<li><a href="https://github.com/o2r-project/reference-implementation">o2r Reference Implementation</a></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This guide is a draft. If you have comments or suggestions please file them in the <a href="https://github.com/o2r-project/erc-spec/issues">issue tracker</a>. If you have explicit changes please fork the <a href="https://github.com/o2r-project/erc-spec">git repo</a> and submit a pull request.</p>
</div>
<h2 id="convention-over-configuration-and-devops">Convention over configuration and DevOps<a class="headerlink" href="#convention-over-configuration-and-devops" title="Permanent link">&para;</a></h2>
<p>The ERC specification is inspired by two approaches to improve development and operation of software.
First,  <a href="https://en.wikipedia.org/wiki/Convention_over_configuration"><em>&ldquo;convention  over  configuration&rdquo;</em></a>, e.g. as  practiced  in  the Java build tool <a href="https://books.sonatype.com/mvnref-book/reference/installation-sect-conventionConfiguration.html">Maven</a>.</p>
<p>We want to create a directory structure with default file names and sensible defaults.
This way a typical research workspace should require only minimal configuration in 80% of the cases, while allowing to override each of the settings if need be and providing full customizability in the remaining 20%.</p>
<p>For example, the main command to compile the text manuscript in a compendium could be <code>knitr::knit("&lt;*&gt;.Rmd")</code>, with <code>&lt;*&gt;</code> being replaced by name of the first RMarkdown file.
However, if a user wants to use <code>rmarkdown::render(..)</code> on a file named <code>publication.md</code>, then the default behaviour can be overwritten.</p>
<p>Second, <em>&ldquo;DevOps&rdquo;</em>, see <a href="https://en.wikipedia.org/wiki/DevOps">Wikipedia</a> or <a href="https://doi.org/10.1145/2723872.2723882">Boettiger</a>.
All processing and configuration shall be scripted, no &ldquo;click&rdquo; interaction required.</p>
<h2 id="related-initiatives-specifications">Related initiatives, specifications, &hellip;<a class="headerlink" href="#related-initiatives-specifications" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="http://www.activepapers.org/">ActivePapers</a></li>
<li><a href="https://elifesciences.org/labs/7dbeb390/reproducible-document-stack-supporting-the-next-generation-research-article">eLife Reproducible Document Stack</a> and the <code>dar</code> format</li>
<li><a href="http://wholetale.org/">Whole Tale</a>, see its <a href="https://github.com/whole-tale/whole-tale/issues/24">serialization format</a></li>
<li><a href="https://reanahub.io">REANA</a> by CERN</li>
</ul>
<h2 id="reasoning-and-decisions">Reasoning and decisions<a class="headerlink" href="#reasoning-and-decisions" title="Permanent link">&para;</a></h2>
<p><a name="lifespan"></a></p>
<h3 id="what-is-the-life-span-of-an-erc">What is the life span of an ERC?<a class="headerlink" href="#what-is-the-life-span-of-an-erc" title="Permanent link">&para;</a></h3>
<p>Short answer: 10 years.</p>
<p>Software that is &ldquo;archived&rdquo; is <em>not</em> intended to be &ldquo;used&rdquo; anymore.
In 50 or 60 years time we cannot imagine how software or computers will look like.
Science historians might still find a lot of valuable information in ERC, though.
We also think it is reasonable to assume that an organisation (e.g. a journal) which bases their workflow on ERCs is able to support time ranges going well beyond 10 years.</p>
<p>The ERC focusses on providing a <strong>usable environment for research workflows</strong> in the context of scholarly publishing (reviews etc.).
Two aspects have an impact on the time frame we target for ERCs: (a) the nature of financing science and (b) the requirement to actually have a piece of code and data that is still interesting to use.</p>
<p>Financing of scientific research is normally based on projects with a specific life span.
We follow common guidelines for <em>publishing scientific data</em>, which require projects to ensure data availability for 10 years.</p>
<p>Although much of the software we use today (like R) is actually quite &ldquo;old&rdquo;, we do not expect pieces of software that are relevant and useful to disappear for many years and only be preserved in ERCs.
So, valuable software will exists and be maintained outside of ERCs.
Specific software might only exist in ERCs and can be thoroughly inspected forever, but <em>potentially</em> not be executed anymore after a decade.</p>
<p>We acknowledge a <a href="http://ivory.idyll.org/blog/2017-pof-software-archivability.html">half life</a> of computations and &ldquo;exact repeatability&rdquo;, but the <strong>medium term reproducibility of ERC are already a huge improvement</strong> over <a href="https://doi.org/10.1016/j.cub.2013.11.014">the current state</a> at the example of research data.
The situation for research data might have improved in the last years, but the situation for code is mostly unknown and might be even worse.</p>
<h3 id="notes-and-decisions-to-elaborate-on">Notes and decisions to elaborate on&hellip;<a class="headerlink" href="#notes-and-decisions-to-elaborate-on" title="Permanent link">&para;</a></h3>
<ul>
<li>research workflows with environmental or generated data can be <em>&ldquo;born digital</em>&rdquo; from beginning and stay that way to the end (sensors, data storage, data analysis, presentation, review, publication)</li>
<li>researchers do their thing and need independence/flexibility, so post-hoc creation will probably be most common and ERC must have low to no impact on workflow</li>
<li>data storage, citation (for giving credit) and preservation is solved (repos, DOIs, bitstream preservation in archives)</li>
<li>packaging methods/methodology for software is solved (R packages, Python packages, &hellip;)</li>
<li>software preservation is <em>not</em> solved (methods are there, like migration, emulation, but complexity is too high to do this at high granularity)</li>
<li>reproducible paper is somewhat solved (literate programming, R package dependency handling solutions, ..)</li>
<li>computational RR requires sandboxing (to make sure everything is there, but also for security)</li>
<li>a service is needed to create ERC for researchers and executes them in a controlled environment</li>
</ul>
<h3 id="why-nested-containers">Why nested containers?<a class="headerlink" href="#why-nested-containers" title="Permanent link">&para;</a></h3>
<p>A user shall have access to the files without starting the runtime container.
Therefore we have at least two items, so we have a bundle and need an outer container.
As a bonus, the outer container can immediately be used to make an ERC conform to specific use cases, such as long term archival.
Also the chosen outer container solution (zip, tarball) is much older and common than the inner container standard, and thus more likely to exist longer.</p>
<blockquote>
<p>&ldquo;What&rsquo;s oldest lasts longest.&rdquo; <a href="https://github.com/swcarpentry/good-enough-practices-in-scientific-computing/blob/gh-pages/index.md#supplementary-materials">source</a></p>
</blockquote>
<h3 id="why-your-own-configuration-file">Why your own configuration file?<a class="headerlink" href="#why-your-own-configuration-file" title="Permanent link">&para;</a></h3>
<p>Because it gives control and freedom.
The ERC has more than one building block, and if we want to make any of them configurable, we need a place to get users as well as tools started, an &ldquo;entrypoint&rdquo;.</p>
<p><strong>Why not use container labels?</strong></p>
<p>The alternative of putting everything into the container itself (e.g. using image labels for metadata and configuration) can be evaluated in the future.
The idea is interesting as labels can be named/grouped with &ldquo;namespaces&rdquo; and could contain more complex information than currently prevalent.</p>
<p>See also <a href="https://github.com/o2r-project/erc-spec/issues/19">#19</a>.</p>
<h3 id="why-bagit">Why BagIt?<a class="headerlink" href="#why-bagit" title="Permanent link">&para;</a></h3>
<ul>
<li>BagIt is something that preservation experts understand and covers what they care about (bitstream preservation), so it seemed a good fit in the first project vision.</li>
<li>BagIt originally was the required packaging for uploading of data, but that has changed. Users upload their data and analysis, and then execute the analysis to ensure the output matches what they created themselves. This is more important than correct bits, which become relevant again after creation of an ERC when it is stored and a bag is created.</li>
</ul>
<h3 id="what-about-the-limitations-of-containers">What about the limitations of containers?<a class="headerlink" href="#what-about-the-limitations-of-containers" title="Permanent link">&para;</a></h3>
<p>We are aware of the limitations that containers have.
Most importantly the operating system and the kernel are not included.
This results in smaller container size and better performance (e.g. quicker start because no &ldquo;boot&rdquo;) and also has security advantages.
However, it also means that the encapsulated runtime environment in ERCs is <em>not</em> &ldquo;all the way down&rdquo;.</p>
<p>It must be noted that of course changes in the operating system and it&rsquo;s kernel may break a workflow encapsulated in a container.</p>
<p>Let&rsquo;s consider the <strong>Linux Kernel</strong>.
Those breaking changes are <a href="https://www.reddit.com/r/linux/comments/3jyscd/has_there_been_a_time_when_the_linux_kernel/">very rare</a>.</p>
<p>Let&rsquo;s consider <strong>Docker</strong>.
Docker containers have by now been <a href="https://www.opencontainers.org/release-notices/v1-0-0">standardised by the OCI</a> and ERCs <a href="https://github.com/o2r-project/erc-spec/issues/7">should rely on the open standard in the future</a> (contributions welcome).
The <a href="https://success.docker.com/article/Maintenance_Lifecycle">maintenance lifecycle</a> and <a href="https://success.docker.com/article/Compatibility_Matrix">compatibility matrix</a> of Docker do not imply they are suitable for the targeted time frame for ERCs.</p>
<p>However, all these projects are Open Source software or documentation, and a long term provider for ERC (i.e. not a small research project) can handle these limitations in different ways, for example <strong>organisationally</strong> with long term maintenance contracts or <strong>technically</strong> as outlined in the o2r architecture <a href="https://o2r.info/architecture/#72-production-sketch">in the production architecture sketch</a>.
These include specialised hardware and operating system specifics.</p>
<h3 id="why-docker">Why Docker?<a class="headerlink" href="#why-docker" title="Permanent link">&para;</a></h3>
<ul>
<li>(Docker) containers provide an encapsulation mechanism to package all dependencies of an analysis</li>
<li>Docker now basically is OCI, so switching to other tools should be possible.</li>
<li>during container execution, and substitution, the build in <a href="https://en.wikipedia.org/wiki/Copy-on-write">copy-on-write</a> storage only creates copy of files that are changed within the container, thus saving storage capacity</li>
<li>volume mounts allow easy substitution of input data and configurations of analysis</li>
</ul>
<h3 id="why-not-singularity">Why not Singularity?<a class="headerlink" href="#why-not-singularity" title="Permanent link">&para;</a></h3>
<p><a href="http://singularity.lbl.gov/">Singularity</a> is an open source containerization solution.
It might very well be a better choice for reproducible research in the future as it stems from the scientific community (HPC), cf. also <a href="https://www.software.ac.uk/c4rr">C4RR workshop 2017</a>.
At the point of starting the specification, Docker was more widespread and implementations more readily available.
Furthermore the origin of Singularity, high performance computing, is out of scope of ERC.</p>
<p>We do not see an issue in not using Singulary.
Most importantly, the concepts <em>runtime manifest</em> and <em>runtime image</em> are abstract, i.e. independent of Docker and the concrete container tool choice could be made flexible in future versions of the specification.
Singularity can import Docker images and as such make a transition possible, or even let an implementation use Singularity without touch the specification.</p>
<h3 id="why-r-markdown-as-the-main-file">Why R Markdown as the main file?<a class="headerlink" href="#why-r-markdown-as-the-main-file" title="Permanent link">&para;</a></h3>
<p>First of all, there is no alternative to <a href="">literate programming</a>.
It is <em>the</em> format in the R community, used more and more for <a href="https://cran.r-project.org/web/packages/roxygen2/vignettes/markdown.html">in-line documentation</a>, <a href="http://r-pkgs.had.co.nz/vignettes.html">vignettes</a>, <a href="https://bookdown.org/yihui/blogdown/">blogs</a>, <a href="http://pkgdown.r-lib.org/">software websites</a>, <a href="https://bookdown.org/">books</a> and even <a href="https://github.com/rstudio/rticles">scientific articles</a> in multiple output formats via <a href="https://pandoc.org/">Pandoc</a> and potentially <a href="https://peerj.com/articles/cs-112/">Pandoc</a> <a href="https://pandoc-scholar.github.io/">Scholar</a>.
The uptake in the community alone warrants its usage.</p>
<p>It also supports other languages than just R and is a good basis for agile production of open science literature.</p>
<p>Futhermore, it is a plain text format with comparatively simple syntax, so it facilitates long-term interpretability.
The structured YAML header also does not hurt for archivability.</p>
<h3 id="why-html-outputs">Why HTML outputs?<a class="headerlink" href="#why-html-outputs" title="Permanent link">&para;</a></h3>
<p>HTML is text-based and therefore allows automatically comparing and creating difference sets with typical &ldquo;diffing&rdquo; tools.
This is a crucial advantage over PDFs and outweighs the benefits of PDF/A.</p>
<h3 id="why-not-just-use-plain-r">Why not just use plain R?<a class="headerlink" href="#why-not-just-use-plain-r" title="Permanent link">&para;</a></h3>
<p>It would be possible to rely solely on R for replication.
For example, the runtime manifest could be a <a href="https://codemeta.github.io/">codemeta</a> document, and the runtime environment is created based on it outside of the ERC when needed, for example by installing R in the required version.
Additionally a package for preserving a state of dependencies could be used, e.g. <a href="https://rstudio.github.io/packrat/">packrat</a>.
This solution is potentially less storage intensive, because containers replicate an R installation each time.
Smaller storages might also ease collaboration.</p>
<p>However, none of these solutions touches the underlying system libraries.
The complexity of preserving the runtime environment is transferred from the packaging stage to the unpackaging stage, which is unfavourable because that packaging state &ldquo;everything works&rdquo;, so better control is ensured at that time.
The burden in a plain R solution shifts from authoring to preservation.</p>
<p>Even though shipping system binaries within packages is possible (if not common), some packages do use system libraries which are not preserved in a plain R approach.
Adjusting such packages is not an option.</p>
<p>Furthermore, none of the solutions for reproducibility are part of &ldquo;core R&rdquo;, even if they are trustworthy (e.g. MRAN).
CRAN does not support installing specific package versions.</p>
<p>That is why using an abstraction layer outside of R is preferable.</p>
<h3 id="what-if-licensing-information-is-not-detailed-enough">What if licensing information is not detailed enough?<a class="headerlink" href="#what-if-licensing-information-is-not-detailed-enough" title="Permanent link">&para;</a></h3>
<p>Without proper license credits, the contents of an ERC would be useless based on today&rsquo;s copyright laws.
Therefore we rather have the extra work for authors to define a couple of licenses than to create something that is unusable by others.</p>
<p>One of the biggest issues is the <strong>scope of licenses</strong>, namely what to do about having multiple pieces of code, text, or data with different licenses.</p>
<p><strong>Ideas/Notes</strong></p>
<p>The <code>erc.yml</code> could also hold more complex license metadata, for specific directories or files.
Probably this is better solved in specialised formats, though.</p>
<div class="admonition tip">
<p class="admonition-title">Example using specific licenses</p>
<div class="highlight"><pre><span></span><code>---
id: b9b0099e-9f8d-4a33-8acf-cb0c062efaec
spec_version: 1
licenses:
    code:
        others_lib.bin: MIT
        my_code.c: GPL-3.0
    data: 
        facts.csv: ODbL-1.0
    text:
        README.md: CC0-1.0
        paper.Rmd: CC-BY-4.0
    metadata: CC0-1.0
</code></pre></div>
</div>
<p>It could even be possible to assign one license to a directory and override that assignment for a single file within that directory, or use globs or regular expressions.</p>
<h3 id="why-not-put-x-into-the-erc-configuration-file">Why (not) put &ldquo;X&rdquo; into the ERC configuration file?<a class="headerlink" href="#why-not-put-x-into-the-erc-configuration-file" title="Permanent link">&para;</a></h3>
<ul>
<li>identifier<ul>
<li>makes it easier to track across platforms</li>
<li>is harder for manual creation</li>
</ul>
</li>
<li>kernel<ul>
<li>would have to use our own label within image metadata</li>
</ul>
</li>
<li>os and architecture<ul>
<li>are already clearly defined im image spec</li>
<li>can be extracted from a plain text file in the image tarball, so implementations can get them (quickly) before loading an image (a potentially costly operation)</li>
</ul>
</li>
<li>Docker version<ul>
<li>is already clearly defined in image spec</li>
</ul>
</li>
</ul>
<h3 id="why-is-validation-happening-outside-the-container-and-not-in-the-container">Why is validation happening outside the container and not <em>in</em> the container?<a class="headerlink" href="#why-is-validation-happening-outside-the-container-and-not-in-the-container" title="Permanent link">&para;</a></h3>
<ul>
<li>better user experience (otherwise all info must be transported via stdout)</li>
<li>to be sure nothing is manipulated within the validation script</li>
</ul>
<h3 id="why-is-the-data-not-in-the-image-inner-container-but-in-the-outer-container">Why is the data not in the image (inner container) but in the outer container?<a class="headerlink" href="#why-is-the-data-not-in-the-image-inner-container-but-in-the-outer-container" title="Permanent link">&para;</a></h3>
<ul>
<li>better accessible in the long term</li>
<li>no data duplication</li>
</ul>
<h2 id="erc-completeness-score">ERC completeness score<a class="headerlink" href="#erc-completeness-score" title="Permanent link">&para;</a></h2>
<p>While the ERC is intended to be simple enough to be created manually, the clear requirements on it&rsquo;s contents also serve a semi-automatic creation.
For example, a user can upload a workspace with data files, and R Markdown document, and an HTML rendering of the document to an online platform, where the runtime manifest and image are automatically created. In such a case, metadata would still be added manually.</p>
<p>To encourage users, especially during the manual steps of the creation process, to provide valuable input a <strong>completeness score</strong> can be useful.
Comparable to profile editors on social network sites, a percentage based score can be used to highlight content or aspects going beyond the mandatory requirements.</p>
<p>Implementing platforms may create their own rules, for example which of the optional metadata elements contribute towards reaching a full score.
Thinking beyond merely the metadata, the score could also cover the runtime manifest (e.g. does it follow common practices, include relevant independent metadata, uses explicit versioning for dependency installation), contained code (e.g. automatic checks against code formatting guidelines, syntactical errors), and contained data (e.g. are open file formats used, maybe rewarding CSV over Shapefiles).</p>
<p>A completeness score can be seen as a <em>downstream product</em> based on the ERC.
It is unlikely this ever makes it into an ERC specification, but it can be a crucial means towards acceptance, adoption, and success of ERCs.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../support/" class="btn btn-neutral float-right" title="Support">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../user-guide/erc_journal_supplement/" class="btn btn-neutral" title="ERC as supplement"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Licensed under Creative Commons CC0 1.0 Universal License.</p>
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/o2r-project/erc-spec/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../user-guide/erc_journal_supplement/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../support/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
